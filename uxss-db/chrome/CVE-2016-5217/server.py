
try:  # Py2
    from BaseHTTPServer import BaseHTTPRequestHandler, HTTPServer
except ImportError:  # Py3
    from http.server import BaseHTTPRequestHandler, HTTPServer


class MyHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        REDIRECT_PREFIX = '/REDIRECT/'
        if self.path.startswith(REDIRECT_PREFIX):
            redirectUrl = self.path[len(REDIRECT_PREFIX):]
            self.send_response(302)
            self.send_header('Location', redirectUrl)
            self.end_headers()
            return

        self.send_response(200)
        self.send_header('Content-Type', 'text/html')
        self.end_headers()
        with open('index.html', 'rb') as f:
            self.wfile.write(f.read())


server = HTTPServer(('127.0.0.1', 8100), MyHandler)
server.serve_forever()
